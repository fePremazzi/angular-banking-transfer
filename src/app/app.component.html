<!-- app.component.html -->

<div class="container">
  <h1>
    Welcome to your {{title}}!!
  </h1>
  <br>
  <h4>
    Schedule a transfer
  </h4>

  <form [formGroup]="angForm" novalidate>
    <div class="form-group">
      <label>Origin account number:</label>
      <input class="form-control" minlength="6" maxlength="6" required formControlName="originAccount" type="text">
    </div>
    <div
      *ngIf="angForm.controls['originAccount'].invalid && (angForm.controls['originAccount'].dirty || angForm.controls['originAccount'].touched)"
      class="alert alert-danger">
      <div *ngIf="angForm.controls['originAccount'].errors.required">
        Origin account number is required.
      </div>
      <div *ngIf="angForm.controls['originAccount'].errors.minlength">
        Origin account number must be at least 6 characters long.
      </div>
    </div>

    <div class="form-group">
      <label>Destination account number:</label>
      <input class="form-control" minlength="6" maxlength="6" required formControlName="destinationAccount" type="text">
    </div>
    <div
      *ngIf="angForm.controls['destinationAccount'].invalid && (angForm.controls['destinationAccount'].dirty || angForm.controls['destinationAccount'].touched)"
      class="alert alert-danger">
      <div *ngIf="angForm.controls['destinationAccount'].errors.required">
        Destination account number is required.
      </div>
      <div *ngIf="angForm.controls['destinationAccount'].errors.minlength">
        Destination account number must be at least 6 characters long.
      </div>
    </div>

    <div class="form-group">
      <label>Transfer value:</label>
      <input class="form-control" required formControlName="transferValue" type="text">
    </div>
    <div
      *ngIf="angForm.controls['transferValue'].invalid && (angForm.controls['transferValue'].dirty || angForm.controls['transferValue'].touched)"
      class="alert alert-danger">
      <div *ngIf="angForm.controls['transferValue'].errors.required">
        Transfer value is required.
      </div>      
      <div *ngIf="angForm.controls['transferValue'].errors.pattern">
        Transfer value must be numerical.
      </div> 
      <div *ngIf="angForm.controls['transferValue'].errors.min">
        Transfer value must be a minimun value of 0.01.
      </div>
    </div>

    <div class="form-group">
      <label>Date to transfer (yyyy/MM/dd):</label>
      <input class="form-control" minlength="10" maxlength="10" required formControlName="scheduledDate" type="text">
    </div>
    <div
      *ngIf="angForm.controls['scheduledDate'].invalid && (angForm.controls['scheduledDate'].dirty || angForm.controls['scheduledDate'].touched)"
      class="alert alert-danger">
      <div *ngIf="angForm.controls['scheduledDate'].errors.required">
        Scheduling date transfer is required.
      </div>     
      <div *ngIf="angForm.controls['scheduledDate'].errors.date">
        Scheduling date does not match the pattern.
      </div> 
      <div *ngIf="angForm.controls['scheduledDate'].errors.minlength">
        Scheduling date must have 10 characters long.
      </div>
    </div>

    <button type="submit" [disabled]="angForm.pristine || angForm.invalid" class="btn btn-success">
      Submit
    </button>
  </form>

  <br>
  <h4>
    Delete a scheduleing by id
  </h4>
  <form [formGroup]="angDeleteForm" novalidate>

    <div class="form-group">
      <label>Transfer value:</label>
      <input class="form-control" required formControlName="transferId" type="text">
    </div>
    <div
      *ngIf="angDeleteForm.controls['transferId'].invalid && (angDeleteForm.controls['transferId'].dirty || angDeleteForm.controls['transferId'].touched)"
      class="alert alert-danger">
      <div *ngIf="angDeleteForm.controls['transferId'].errors.required">
        Transfer id is required.
      </div>      
      <div *ngIf="angDeleteForm.controls['transferId'].errors.pattern">
        Transfer id must be an integer.
      </div> 
      <div *ngIf="angDeleteForm.controls['transferId'].errors.min">
        Transfer id must be a minimun value of 1.
      </div>
    </div>

    <button type="submit" [disabled]="angDeleteForm.pristine || angDeleteForm.invalid" class="btn btn-success">
      Submit
    </button>
  </form>

  <br />
  <!-- <p>Form value: {{ angForm.value | json }}</p>
  <p>Form status: {{ angForm.status | json }}</p> -->
</div>